<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3kawi Cfx Finder</title>
<link rel="icon" href="https://cdn.discordapp.com/avatars/1273500458647949326/aafde583ac2fcca92bcf0e34c893d81d.webp?size=1024" type="image/png">
<style>
  body {margin:0; padding:0; background:#00101a; color:white; font-family: Arial, sans-serif; overflow-x:hidden;}
  
  header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px 20px;
    background-color:#120033;
  }
  .home-link img {width:40px; height:40px; cursor:pointer; display:block;}
  .join-btn {
    background-color:#4c00ff;
    color:white;
    padding:8px 15px;
    border-radius:5px;
    text-decoration:none;
    font-weight:bold;
    transition: background-color 0.3s;
  }
  .join-btn:hover {background-color:#4c00ff;}

  main {
    text-align:center;
    margin:40px auto;
    max-width:500px;
    background:rgba(0,0,0,0.6);
    padding:30px;
    border-radius:15px;
    box-shadow:0 0 20px rgba(111, 0, 255, 0.4);
  }
  .header-image {max-width:120px; margin:0 auto 15px; display:block; border-radius:50%;}
  h1 {color:#4c00ff; text-shadow:0 0 10px rgba(55, 0, 255, 0.3); margin-bottom:20px;}

  .input-container {display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-bottom:20px;}
  input {flex:1; padding:10px; border-radius:8px; border:none; min-width:180px;}
  button {cursor:pointer; background:#4c00ff; color:white; padding:10px 15px; border-radius:8px; border:none; transition:0.3s;}
  button:hover {background:#4c00ff;}

  .info-box {margin-top:10px; padding:12px; background:rgba(0,0,0,0.5); border-radius:8px; font-size:15px; min-height:40px;}

  #customPopup {
    display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
    background:rgba(0,0,0,0.9); padding:20px; border-radius:12px; z-index:1000; color:white; max-width:90%;
  }
  .close-btn {margin-top:10px; padding:8px 12px; cursor:pointer; background:#4c00ff; border:none; border-radius:8px;}
  .close-btn:hover {background:#4c00ff;}

  /* Rain canvas */
  #rainCanvas {position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:-1;}

  /* YouTube hidden player */
  #player {position:absolute; width:1px; height:1px; opacity:0; pointer-events:none;}
</style>
</head>
<body>

<canvas id="rainCanvas"></canvas>

<header>
  <a href="https://guns.lol/o.y" class="home-link" title="qo">
    <img src="https://cdn.discordapp.com/avatars/1273500458647949326/aafde583ac2fcca92bcf0e34c893d81d.webp?size=1024" alt="qo">
  </a>
  <a href="https://discord.gg/8J5ZFx5VUJ" class="join-btn" target="_blank">Join Mr. Store !</a>
</header>

<main>
  <img src="https://cdn.discordapp.com/avatars/1273500458647949326/aafde583ac2fcca92bcf0e34c893d81d.webp?size=1024" alt="Banner" class="header-image">
  <h1>3kawi Cfx Finder</h1>
  <div class="input-container">
    <input type="text" id="cfxUrl" placeholder="Enter CFX link (cfx.re/join/anycode)">
    <button onclick="getServerIP()">Find IP</button>
  </div>
  <div class="info-box" id="result">Enter The Cfx Code To Show IP & Port...</div>
</main>

<!-- YouTube hidden player -->
<div id="player"></div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
  // Rain effect
  const rainCanvas = document.getElementById('rainCanvas');
  const ctx = rainCanvas.getContext('2d');
  rainCanvas.width = window.innerWidth;
  rainCanvas.height = window.innerHeight;

  const raindrops = [];
  for(let i=0; i<100; i++){
    raindrops.push({x:Math.random()*rainCanvas.width, y:Math.random()*rainCanvas.height, length:10+Math.random()*20, speed:2+Math.random()*2});
  }

  function animateRain(){
    ctx.clearRect(0,0,rainCanvas.width,rainCanvas.height);
    ctx.strokeStyle='rgba(255,255,255,0.2)';
    ctx.lineWidth=1;
    raindrops.forEach(drop=>{
      ctx.beginPath();
      ctx.moveTo(drop.x, drop.y);
      ctx.lineTo(drop.x, drop.y + drop.length);
      ctx.stroke();
      drop.y += drop.speed;
      if(drop.y > rainCanvas.height) drop.y = -drop.length;
    });
    requestAnimationFrame(animateRain);
  }
  animateRain();
  window.addEventListener('resize', ()=>{
    rainCanvas.width = window.innerWidth;
    rainCanvas.height = window.innerHeight;
  });

  // البحث عن IP و Port
  function getServerIP(){
    const input = document.getElementById('cfxUrl').value.trim();
    const resultBox = document.getElementById('result');

    if(!input || !input.includes("cfx.re/join/")){
      resultBox.innerHTML = "Please enter a valid CFX link!";
      return;
    }

    const fakeIP = "123.456.78.90";
    const fakePort = "30120";

    resultBox.innerHTML = `<strong>Server IP:</strong> ${fakeIP}<br><strong>Port:</strong> ${fakePort}`;
  }

  // YouTube API
  let player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      videoId: 'XuFtFjIcHxY', // ضع هنا رابط الفيديو
      playerVars: { autoplay: 1, controls: 0, modestbranding: 1, rel: 0, showinfo: 0, fs: 0, iv_load_policy: 3, playsinline: 1 },
      events: { 'onReady': onPlayerReady }
    });
  }

  function onPlayerReady(event) {
    event.target.setVolume(100);
    event.target.playVideo();
  }
</script>

</body>
</html>
